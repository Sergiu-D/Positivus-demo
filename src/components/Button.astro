---
import { cn } from "@/lib/utils";

export interface Props {
  /** Button style variant */
  variant?: "default" | "secondary" | "outlined";
  /** Button size */
  size?: "fit" | "full";
  /** Additional CSS classes */
  class?: string;
}

const {
  variant = "default",
  size = "fit",
  class: className,
  ...attrs
} = Astro.props;

const variants = {
  default: "bg-primary text-white rounded-xl btn-default",
  secondary: "bg-secondary text-primary rounded-xl btn-secondary",
  outlined:
    "bg-transparent text-primary border border-primary rounded-xl btn-outlined",
};

const sizes = {
  fit: "px-5 py-3 w-fit",
  full: "px-5 py-3 w-full",
};
---

<button class={cn(variants[variant], sizes[size], className)} {...attrs}>
  <slot />
</button>

<script>
  import confetti from "canvas-confetti";
  const button = document.body.querySelector("button");

  if (button) {
    button.addEventListener("click", () => confetti());
  }
</script>
